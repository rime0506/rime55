<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- è§†å£è®¾ç½®ï¼šé“ºæ»¡å…¨å±ï¼Œç¦æ­¢ç¼©æ”¾ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- PWA æ²‰æµ¸å¼è®¾ç½® -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- å…³é”®ï¼šè®¾ç½®çŠ¶æ€æ ä¸ºæ²‰æµ¸å¼ï¼ˆå†…å®¹é€šé¡¶ï¼‰ -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MyPhone">
    <meta name="theme-color" content="#ffffff">

    <!-- å†…è” Manifest -->
    <link rel="manifest" href="data:application/manifest+json;charset=utf-8,%7B%22name%22%3A%22MyPhone%22%2C%22short_name%22%3A%22MyPhone%22%2C%22start_url%22%3A%22.%22%2C%22display%22%3A%22standalone%22%2C%22background_color%22%3A%22%23ffffff%22%2C%22theme_color%22%3A%22%23ffffff%22%2C%22icons%22%3A%5B%5D%7D">

    <title>iOS Desktop</title>

    <style>
        /* ================= Reset ================= */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        html, body {
            width: 100%; height: 100%; overflow: hidden;
            background: #000;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            /* ç¦æ­¢é¡µé¢æ•´ä½“å›å¼¹ */
            overscroll-behavior: none;
        }

        /* ç»Ÿä¸€å®¹å™¨ï¼šå¼ºåˆ¶é“ºæ»¡å±å¹• */
        .page-view {
            position: absolute; top: 0; left: 0; width: 100vw; height: 100dvh;
            display: flex; flex-direction: column; overflow: hidden;
        }

        /* ================= æ¡Œé¢æ ·å¼ ================= */
        #desktop-view {
            /* æ¸å˜èƒŒæ™¯ç›´æ¥åŠ åœ¨å®¹å™¨ä¸Šï¼Œä¿è¯é€šé¡¶ */
            background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 99%, #FECFEF 100%);
            z-index: 10;
            /* æ¡Œé¢å›¾æ ‡åŒºåŸŸçš„ä¸Šè¾¹è· = åˆ˜æµ·é«˜åº¦ + è‡ªå®šä¹‰ç©ºéš™ */
            padding-top: calc(env(safe-area-inset-top) + 40px);
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .desktop-icons {
            flex: 1; padding: 0 20px;
            display: grid; grid-template-columns: repeat(4, 1fr);
            grid-auto-rows: min-content; gap: 20px 10px; justify-items: center;
        }

        .app-item {
            display: flex; flex-direction: column; align-items: center; gap: 5px;
            cursor: pointer; transition: transform 0.1s;
        }
        .app-item:active { transform: scale(0.9); }

        .app-icon {
            width: 58px; height: 58px; border-radius: 13px;
            display: flex; align-items: center; justify-content: center;
            color: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.15);
        }
        .app-icon svg { width: 30px; height: 30px; stroke-width: 1.5; }
        .app-name { font-size: 11px; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.3); font-weight: 500; }

        /* å›¾æ ‡é¢œè‰² */
        .bg-photos { background: linear-gradient(to bottom right, #ff9a9e, #fad0c4); }
        .bg-weather { background: linear-gradient(to bottom, #1fa2ff, #12d8fa, #a6ffcb); }
        .bg-wallet { background: #333; }
        .bg-phone { background: linear-gradient(to bottom, #42e695, #3bb2b8); }
        .bg-safari { background: #fff; color: #1e90ff; }
        .bg-msg { background: #4cd964; }
        .bg-music { background: linear-gradient(to bottom, #ff512f, #dd2476); }
        .bg-chat { background: #fff; color: #000; display: flex; align-items: center; justify-content: center; position: relative; }
        /* èŠå¤©å›¾æ ‡ä¸­é—´çš„Insé£æ ¼æ¸å˜åœˆ */
        .chat-logo-bg { position: absolute; width: 100%; height: 100%; border-radius: 13px; background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); opacity: 0.1; }

        /* Dockæ  */
        .dock-container {
            width: 100%; padding: 15px; padding-bottom: calc(15px + env(safe-area-inset-bottom));
            display: flex; justify-content: center;
        }
        .dock {
            width: 100%; height: 85px; padding: 0 18px;
            background: rgba(255,255,255,0.35); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border-radius: 35px; border: 0.5px solid rgba(255,255,255,0.3);
            display: flex; align-items: center; justify-content: space-between;
        }
        .dock .app-item { gap: 0; } .dock .app-name { display: none; }

        /* ================= èŠå¤©é¡µé¢æ ·å¼ ================= */
        #chat-view {
            background-color: #fff; z-index: 20; color: #000;
            display: none; opacity: 0; transform: scale(0.9);
            transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        /* èŠå¤©é¡¶æ ï¼šé«˜åº¦è‡ªåŠ¨åŒ…å«åˆ˜æµ·åŒº */
        header {
            background: #fff; flex-shrink: 0;
            /* å…³é”®ï¼šåˆ©ç”¨ padding æŠŠå†…å®¹é¡¶ä¸‹æ¥ï¼ŒèƒŒæ™¯è‰²ä¿æŒé€šé¡¶ */
            padding-top: env(safe-area-inset-top);
            height: calc(44px + env(safe-area-inset-top));
            
            display: flex; align-items: center; justify-content: space-between;
            padding-left: 10px; padding-right: 10px;
            border-bottom: 0.5px solid #e1e1e1;
            position: relative; z-index: 50;
        }

        .header-title { font-weight: 700; font-size: 16px; flex: 1; text-align: center; }
        .btn { border: none; background: none; padding: 0 10px; height: 44px; display: flex; align-items: center; color: #000; cursor: pointer; }
        .btn svg { width: 24px; height: 24px; }
        .header-right { display: flex; }

        /* èŠå¤©å†…å®¹åŒº */
        main { flex: 1; overflow-y: scroll; padding: 15px; display: flex; flex-direction: column; gap: 15px; scroll-behavior: smooth; }
        /* éšè—æ»šåŠ¨æ¡ */
        main::-webkit-scrollbar { display: none; }
        
        .msg { max-width: 75%; padding: 10px 14px; border-radius: 18px; font-size: 15px; line-height: 1.4; word-wrap: break-word;}
        .msg.l { align-self: flex-start; background: #fff; border: 1px solid #efefef; }
        .msg.r { align-self: flex-end; background: #efefef; }

        /* èŠå¤©åº•æ  */
        footer {
            min-height: 50px; background: #fff; border-top: 0.5px solid #e1e1e1;
            padding: 8px 12px; padding-bottom: calc(8px + env(safe-area-inset-bottom));
            display: flex; align-items: center; gap: 10px; flex-shrink: 0;
        }

        .input-wrap { flex: 1; background: #efefef; border-radius: 20px; height: 38px; display: flex; align-items: center; padding: 0 15px; }
        .input-wrap input { flex: 1; background: transparent; border: none; font-size: 15px; outline: none; }
    </style>
</head>
<body>

    <!-- é¡µé¢ 1ï¼šæ¡Œé¢ -->
    <div id="desktop-view" class="page-view">
        <div class="desktop-icons">
            <div class="app-item"><div class="app-icon bg-photos"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg></div><span class="app-name">ç…§ç‰‡</span></div>
            <div class="app-item"><div class="app-icon bg-weather"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 2v2"/><path d="M12 20v2"/><path d="M4.93 4.93l1.41 1.41"/><path d="M17.66 17.66l1.41 1.41"/><circle cx="12" cy="12" r="5"/></svg></div><span class="app-name">å¤©æ°”</span></div>
            <div class="app-item"><div class="app-icon bg-wallet"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg></div><span class="app-name">é’±åŒ…</span></div>
        </div>

        <div class="dock-container">
            <div class="dock">
                <div class="app-item"><div class="app-icon bg-phone"><svg viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg></div></div>
                <div class="app-item"><div class="app-icon bg-safari"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/></svg></div></div>
                
                <!-- ç‚¹å‡»æ­¤å›¾æ ‡è¿›å…¥èŠå¤© -->
                <div class="app-item" id="icon-chat">
                    <div class="app-icon bg-chat">
                        <div class="chat-logo-bg"></div>
                        <svg style="z-index: 1;" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
                    </div>
                </div>
                
                <div class="app-item"><div class="app-icon bg-music"><svg viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M9 18V5l12-2v13"/></svg></div></div>
            </div>
        </div>
    </div>


    <!-- é¡µé¢ 2ï¼šèŠå¤©çª—å£ -->
    <div id="chat-view" class="page-view">
        <header>
            <button class="btn" id="btn-back">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
            </button>
            <div class="header-title">jennie_rubyjane</div>
            <div class="header-right">
                <button class="btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg></button>
                <button class="btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg></button>
            </div>
        </header>

        <main id="chat-content">
            <div class="msg l">è¿™æ¬¡ä¿®å¤äº†é¡¶éƒ¨çš„ç©ºç™½é—´éš™ ğŸ”§</div>
            <div class="msg l">å› ä¸ºèƒŒæ™¯å›¾ç‰‡ç°åœ¨æ˜¯ 100% å…¨å±é“ºåœ¨åº•å±‚çš„ã€‚</div>
            <div class="msg r">å¤ªæ£’äº†ï¼Œçœ‹èµ·æ¥åƒåŸç”Ÿ App äº†ã€‚</div>
            <div class="msg l">å¯¹çš„ï¼Œæ ‡é¢˜æ ç°åœ¨ä¹Ÿè‡ªåŠ¨é€‚é…åˆ˜æµ·å±é«˜åº¦äº†ã€‚</div>
        </main>

        <footer>
            <button class="btn" style="padding:0;"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg></button>
            <div class="input-wrap">
                <input type="text" id="msg-input" placeholder="å‘æ¶ˆæ¯...">
            </div>
            <button class="btn" id="btn-send"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg></button>
        </footer>
    </div>

    <script>
        const desktop = document.getElementById('desktop-view');
        const chat = document.getElementById('chat-view');
        const iconChat = document.getElementById('icon-chat');
        const btnBack = document.getElementById('btn-back');
        const input = document.getElementById('msg-input');
        const sendBtn = document.getElementById('btn-send');
        const content = document.getElementById('chat-content');

        // æ‰“å¼€APP
        iconChat.addEventListener('click', () => {
            chat.style.display = 'flex';
            
            // å¼ºåˆ¶é‡ç»˜ï¼Œç¡®ä¿åŠ¨ç”»æµç•…
            requestAnimationFrame(() => {
                desktop.style.transform = 'scale(1.2)';
                desktop.style.opacity = '0';
                
                chat.style.opacity = '1';
                chat.style.transform = 'scale(1)';
            });

            setTimeout(() => desktop.style.display = 'none', 300);
        });

        // è¿”å›æ¡Œé¢
        btnBack.addEventListener('click', () => {
            desktop.style.display = 'flex';
            
            requestAnimationFrame(() => {
                desktop.style.transform = 'scale(1)';
                desktop.style.opacity = '1';
                
                chat.style.opacity = '0';
                chat.style.transform = 'scale(0.9)';
            });

            setTimeout(() => chat.style.display = 'none', 300);
        });

        // èŠå¤©é€»è¾‘
        function send() {
            const txt = input.value.trim();
            if(!txt) return;

            // å‘é€
            const d = document.createElement('div');
            d.className = 'msg r';
            d.innerText = txt;
            content.appendChild(d);
            
            input.value = '';
            toggleSendIcon('');
            content.scrollTop = content.scrollHeight;

            // æ¨¡æ‹Ÿå›å¤
            setTimeout(() => {
                const r = document.createElement('div');
                r.className = 'msg l';
                r.innerText = 'æ”¶åˆ°ï¼ğŸ‘Œ';
                content.appendChild(r);
                content.scrollTop = content.scrollHeight;
            }, 600);
        }

        // ç»‘å®šäº‹ä»¶
        sendBtn.addEventListener('click', send);
        input.addEventListener('keypress', e => e.key === 'Enter' && send());

        // è¾“å…¥æ¡†å›¾æ ‡åˆ‡æ¢
        input.addEventListener('input', e => toggleSendIcon(e.target.value));
        
        function toggleSendIcon(val) {
            if(val.trim()){
                sendBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>';
            } else {
                sendBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>';
            }
        }
    </script>
</body>
</html>